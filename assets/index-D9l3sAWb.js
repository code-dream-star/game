(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const w of s.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&u(w)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function I(){const e=$(window).width(),t=$(window).height(),n=1600,u=757,i=e/n,s=t/u;$("body").css("zoom",(i+s)/2),$("section").css("height",$("#app").height())}$(window).on("resize",I);I();const l=$("main"),r=$("main>section,main>footer"),j="fp24";let m=j,T=null;function x(){return $("#app").height()}function P(e){e||(e=j);const t=l.find(`#${e}`);return t.length?t:l.find(`#${j}`)}function p(e){m=e,v()}function v(){const e=P(m),t=[].slice.call(r).indexOf(e[0]);r.each((u,i)=>$(i).removeClass("active"));let n;t==r.length-1?(n=(t-1)*x()+e.outerHeight(),e.addClass("active"),e.prev().addClass("active")):(n=t*x(),e.addClass("active")),T&&T(e.attr("id")),l[0].style.setProperty("--pos",n+"px")}let y=!1;l.on("mousewheel",function({originalEvent:{wheelDelta:e,ctrlKey:t}}){if(t||y)return;y=!0;let n=[].slice.call(r).indexOf(P(m)[0]);e<0?n++:e>0&&n--,n<=0&&(n=0),n>r.length-1&&(n=r.length-1),p(r.get(n).id),setTimeout(()=>{y=!1},500)});let h=!1,g=null,b=null,L=null,d=null;l.on("touchstart",function({originalEvent:{changedTouches:e}}){h||(h=!0,l.addClass("touching"),g=e[0].identifier,b=e[0].clientY,L=Number(l[0].style.getPropertyValue("--pos").split("px")[0]))});l.on("touchmove",function({originalEvent:{changedTouches:e}}){if(!h)return;const t=[].slice.call(e).find(u=>u.identifier==g);if(!t)return;d=b-t.clientY;const n=L+d;l[0].style.setProperty("--pos",n+"px")});l.on("touchend",function({originalEvent:{changedTouches:e}}){if(h&&[].slice.call(e).find(t=>t.identifier==g)){if(h=!1,l.removeClass("touching"),Math.abs(d)>=100){let t=[].slice.call(r).indexOf(P(m)[0]);d>0?t++:t--,t<=0&&(t=0),t>r.length-1&&(t=r.length-1),p(r.get(t).id)}else v();g=null,b=null,L=null,d=null}});v();$(window).on("resize",v);function Y(e){T=e}const E=[{img:"./assets/pj1.png",title:"建筑天地",desc:"“以社交为芯，以朋友为伴”",link:"https://game.cdstar.top/arch-world"},{img:"./assets/pj2.png",title:"我是外卖员",desc:"高考过后，你来到了外卖城的一个大学，因为生活费太少而被迫在外卖城开始外卖员的工作。",link:"https://game.cdstar.top/take"},{img:"./assets/pj3.png",title:"赛博外卖员",desc:"随着科技的发展，外卖城也进入了全新的“赛博”宇宙，但是仍有很多店主不愿意将自己的店铺翻新 ，不过没关系，请继续你的外卖员之旅吧~",link:"https://game.cdstar.top/cybertake"}],O=186,k=216,A=16,a=$(".projects-list"),f=$(".projects-info");let o=0,z=[];function c(e){let t=E.length;if(e<0){let n=t- -(e%t);return n==t?0:n}else return e>0?e%t:0}function F(){return $(window).width()}function N(){if(F()<624){let e=$(".projects-list").width();return-(O*4+A*5)+(e/2-k/2)}else return-(O*4)}function H(e){a.addClass("animating"),a.children().eq(4).removeClass("active"),a.children().eq(4+e).addClass("active"),a[0].style.setProperty("--pos",N()-e*(O+A)+"px")}function S(){a.removeClass("animating"),z=[c(o-4),c(o-3),c(o-2),c(o-1),c(o),c(o+1),c(o+2),c(o+3),c(o+4)],a.children().each((e,t)=>{e==4?$(t).addClass("active"):$(t).removeClass("active");const n=E[z[e]];$(t).find("img").attr("src",n.img).attr("alt",n.title)}),a[0].style.setProperty("--pos",N()+"px")}function M(){f.addClass("hide"),setTimeout(()=>{f.removeClass("hide");const e=E[o];f.find("h2").text(e.title),f.find("p").text(e.desc),f.find("a").attr("href",e.link)},350)}function W(e){H(e),setTimeout(()=>{S()},500),M()}let C=!1;a.children().each((e,t)=>{$(t).on("click",function(){if(C||e==4)return;C=!0;const n=e<4?-(4-e):e-4;o=c(o+n),W(n),setTimeout(()=>{C=!1},564)})});W(0);$(window).on("resize",S);function q(){const e=location.hash.slice(1);p(e||null)}window.addEventListener("hashchange",()=>{q()});Y(function(e){location.hash="#"+e,$("ul.nav li").removeClass("active"),$(`ul.nav li:has([href="#${e}"])`).addClass("active")});setTimeout(()=>{q()},100);
